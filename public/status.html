<!doctype html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>EccomiBook — Stato</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; padding: 2rem; text-align: center; }
    .ok { color: #0a0; font-weight: 700; }
    .fail { color: #c00; font-weight: 700; }
    code { background:#f4f4f4; padding:.2em .35em; border-radius:4px; }
  </style>
</head>
<body>
  <h1>📊 EccomiBook — Stato servizi</h1>

  <p>Frontend: <span class="ok">✅ Online</span> (<code>/status.html</code>)</p>

  <p id="backend">Backend: <span>⏳ Verifica…</span></p>

  <p>
    API Health:
    <a href="https://eccomibook-backend.onrender.com/api/v1/health" target="_blank" rel="noopener">apri</a>
  </p>

  <script>
    const HEALTH = "https://eccomibook-backend.onrender.com/api/v1/health";
    fetch(HEALTH, { cache: "no-store" })
      .then(r => r.json())
      .then(d => {
        const ok = d && d.ok !== false; // il tuo health risponde {"ok":true,...}
        document.getElementById("backend").innerHTML =
          ok
            ? `Backend: <span class="ok">✅ Online</span> (v${d.version || "?"}, env: ${d.env || "?"})`
            : `Backend: <span class="fail">❌ Offline</span>`;
      })
      .catch(err => {
        document.getElementById("backend").innerHTML =
          `Backend: <span class="fail">❌ Offline</span> (${String(err)})`;
      });
  </script>
</body>
</html>
