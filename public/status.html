<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EccomiBook â€” Stato Frontend</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; text-align: center; }
      h1 { color: #c00; }
      .ok { color: green; font-weight: bold; }
      .err { color: red; font-weight: bold; }
      .box { margin-top: 2rem; padding: 1rem; border: 1px solid #ddd; display: inline-block; }
      button { margin: 0.3rem; padding: 0.5rem 1rem; }
    </style>
  </head>
  <body>
    <h1>âœ… EccomiBook Frontend attivo</h1>
    <p>Benvenuto! Questa Ã¨ la pagina di stato del <strong>frontend</strong> EccomiBook.</p>

    <div class="box">
      <button onclick="location.href='/'">Entra nellâ€™app</button>
      <button onclick="location.href='https://eccomibook-backend.onrender.com/docs'">API Docs</button>
      <button onclick="location.href='https://eccomibook-backend.onrender.com/redoc'">ReDoc</button>
      <button onclick="location.href='https://eccomibook-backend.onrender.com/api/v1/ping'">API Health</button>
    </div>

    <div class="box">
      <p><strong>Backend:</strong> <span id="backend-status">Verifica...</span></p>
      <p><strong>Env frontend:</strong> production</p>
      <p><strong>Versione FE:</strong> 4.0.0</p>
      <p><strong>API base:</strong> <code>https://eccomibook-backend.onrender.com/api/v1</code></p>
    </div>

    <p><a href="https://github.com/EccomiOnLine-Eccomisrls/EccomiBook">Apri il repository GitHub</a></p>
    <p>Â© EccomiBook</p>

    <script>
      async function checkBackend() {
        const el = document.getElementById("backend-status");
        try {
          const res = await fetch("https://eccomibook-backend.onrender.com/api/v1/ping");
          if (!res.ok) throw new Error("HTTP " + res.status);
          const data = await res.json();
          if (data.ok) {
            el.innerHTML = "ðŸŸ¢ Online (v" + data.version + ")";
            el.className = "ok";
          } else {
            el.innerHTML = "ðŸ”´ Offline (risposta non valida)";
            el.className = "err";
          }
        } catch (e) {
          el.innerHTML = "ðŸ”´ Offline";
          el.className = "err";
        }
      }
      checkBackend();
    </script>
  </body>
</html>
