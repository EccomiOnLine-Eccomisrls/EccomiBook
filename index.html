<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EccomiBook</title>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand">
        <span class="logo">üìö</span>
        <span class="title">EccomiBook</span>
      </div>

      <div id="backend-status" class="backend-pill">Backend: verifico‚Ä¶</div>

      <nav class="actions">
        <button id="btn-api-key" class="btn btn-ghost">API key</button>
        <button id="btn-new-book" class="btn btn-primary">+ Nuovo Libro</button>
        <button id="btn-library" class="btn btn-secondary">Libreria</button>
        <button id="btn-editor" class="btn btn-ghost">‚úèÔ∏è Editor Capitolo</button>
      </nav>
    </header>

    <main class="container">
      <h1 class="hero">Crea libri professionali con AI</h1>
      <p class="subhero">
        Genera capitoli, organizza la libreria, esporta in PDF.
      </p>
    </main>

    <!-- Editor capitolo (pannello) -->
    <section id="editor-card" class="card editor" style="display:none;">
      <div class="card-head">
        <strong>Editor capitolo</strong>
        <span id="editor-mode-badge" class="badge">REALE</span>
      </div>
      <div class="grid">
        <label>
          ID libro
          <input id="bookIdInput" placeholder="es. book_il-mio-libro_abc123" />
        </label>
        <label>
          ID capitolo
          <input id="chapterIdInput" placeholder="es. ch_0001" />
        </label>
      </div>
      <label>
        Testo capitolo
        <textarea id="chapterText" rows="10" placeholder="Scrivi qui..."></textarea>
      </label>
      <div class="row-right">
        <button id="btn-ed-close" class="btn btn-ghost">Chiudi</button>
        <button id="btn-ed-save" class="btn btn-primary">Salva</button>
      </div>
      <small class="muted">
        Per salvare davvero serve l‚Äôendpoint <code>PUT /books/{book_id}/chapters/{chapter_id}</code>.
        (Lo abiliteremo a breve.)
      </small>
    </section>

    <footer class="footer">
      ¬© 2025 EccomiOnline ‚Äî Tutti i diritti riservati
    </footer>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
